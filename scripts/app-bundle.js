define("app",["exports","aurelia-router"],function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;t.App=function(){function t(){n(this,t)}return t.prototype.configureRouter=function(t,e){t.title="Contacts",t.map([{route:"",moduleId:"no-selection",title:"Select"},{route:"contacts/:id",moduleId:"contact-detail",name:"contacts"}]),this.router=e},t}()}),define("contact-detail",["exports","aurelia-event-aggregator","./web-api","./messages","./utility"],function(t,e,n,r,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ContactDetail=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t.ContactDetail=function(){function t(e){o(this,t),this.api=e,this.ea=ea}return t.inject=function(){return[n.WebAPI,e.EventAggregator]},t.prototype.activate=function(t,e){var n=this;return this.routeConfig=e,this.api.getContactDetails(t.id).then(function(t){n.contact=t,n.routeConfig.navModel.setTitle(t.firstName),n.originalContact=JSON.parse(JSON.stringify(t)),n.ea.publish(new r.ContactViewed(n.contact))})},t.prototype.save=function(){var t=this;this.api.saveContact(this.contact).then(function(e){t.contact=e,t.routeConfig.navModel.setTitle(e.firstName),t.originalContact=JSON.parse(JSON.stringify(e)),t.ea.publish(new r.ContactViewed(t.contact))})},t.prototype.canDeactivate=function(){if(!(0,i.areEqual)(this.originalContact,this.contact)){var t=confirm("You have unsaved changes. Are you sure you wish to leave?");return t||this.ea.publish(new r.ContactViewed(this.contact)),t}return!0},a(t,[{key:"canSave",get:function(){return this.contact.firstName&&this.contact.lastName&&!this.api.isRequesting}}]),t}()}),define("contact-list",["exports","web-api"],function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ContactList=void 0;t.ContactList=function(){function t(e){n(this,t),this.api=e,this.contacts=[]}return t.inject=function(){return[e.WebAPI]},t.prototype.created=function(){var t=this;this.api.getContactList().then(function(e){return t.contacts=e})},t.prototype.select=function(t){return this.selectedId=t.id,!0},t}()}),define("environment",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("main",["exports","./environment"],function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){t.use.standardConfiguration().feature("resources"),i.default.debug&&t.use.developmentLogging(),i.default.testing&&t.use.plugin("aurelia-testing"),t.start().then(function(){return t.setRoot()})}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=r;var i=n(e);Promise.config({warnings:{wForgottenReturn:!1}})}),define("messages",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.ContactUpdated=function t(n){e(this,t),this.contact=n},t.ContactViewed=function t(n){e(this,t),this.contact=n}}),define("no-selection",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.NoSelection=function t(){e(this,t),this.message="Please select a contact..."}}),define("utility",["exports"],function(t){"use strict";function e(t,e){return Object.keys(t).every(function(n){return e.hasOwnProperty(n)&&t[n]===e[n]})}Object.defineProperty(t,"__esModule",{value:!0}),t.areEqual=e}),define("web-api",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(){return++i}Object.defineProperty(t,"__esModule",{value:!0});var r=200,i=0,o=[{id:n(),firstName:"John",lastName:"Tolkien",email:"tolkien@inklings.com",phoneNumber:"867-5309"},{id:n(),firstName:"Clive",lastName:"Lewis",email:"lewis@inklings.com",phoneNumber:"867-5309"},{id:n(),firstName:"Owen",lastName:"Barfield",email:"barfield@inklings.com",phoneNumber:"867-5309"},{id:n(),firstName:"Charles",lastName:"Williams",email:"williams@inklings.com",phoneNumber:"867-5309"},{id:n(),firstName:"Roger",lastName:"Green",email:"green@inklings.com",phoneNumber:"867-5309"}];t.WebAPI=function(){function t(){e(this,t),this.isRequesting=!1}return t.prototype.getContactList=function(){var t=this;return this.isRequesting=!0,new Promise(function(e){setTimeout(function(){var n=o.map(function(t){return{id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email}});e(n),t.isRequesting=!1},r)})},t.prototype.getContactDetails=function(t){var e=this;return this.isRequesting=!0,new Promise(function(n){setTimeout(function(){var r=o.filter(function(e){return e.id==t})[0];n(JSON.parse(JSON.stringify(r))),e.isRequesting=!1},r)})},t.prototype.saveContact=function(t){var e=this;return this.isRequesting=!0,new Promise(function(i){setTimeout(function(){var r=JSON.parse(JSON.stringify(t)),a=o.filter(function(e){return e.id==t.id})[0];if(a){var s=o.indexOf(a);o[s]=r}else r.id=n(),o.push(r);e.isRequesting=!1,i(r)},r)})},t}()}),define("resources/index",["exports"],function(t){"use strict";function e(t){}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=e}),define("text!app.html",["module"],function(t){t.exports='<template>\r\n  <require from="bootstrap/css/bootstrap.css"></require>\r\n  <require from="./styles.css"></require>\r\n  <require from="./contact-list"></require>\r\n\r\n  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">\r\n    <div class="navbar-header">\r\n      <a class="navbar-brand" href="#">\r\n        <i class="fa fa-user"></i>\r\n        <span>Contacts</span>\r\n      </a>\r\n    </div>\r\n  </nav>\r\n\r\n  <div class="container">\r\n    <div class="row">\r\n      <contact-list class="col-md-4"></contact-list>\r\n      <router-view class="col-md-8"></router-view>\r\n    </div>\r\n  </div>\r\n</template>\r\n'}),define("text!styles.css",["module"],function(t){t.exports="body { padding-top: 70px; }\r\n\r\nsection {\r\n  margin: 0 20px;\r\n}\r\n\r\na:focus {\r\n  outline: none;\r\n}\r\n\r\n.navbar-nav li.loader {\r\n    margin: 12px 24px 0 6px;\r\n}\r\n\r\n.no-selection {\r\n  margin: 20px;\r\n}\r\n\r\n.contact-list {\r\n  overflow-y: auto;\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n}\r\n\r\n.panel {\r\n  margin: 20px;\r\n}\r\n\r\n.button-bar {\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  border-top: 1px solid #ddd;\r\n  background: white;\r\n}\r\n\r\n.button-bar > button {\r\n  float: right;\r\n  margin: 20px;\r\n}\r\n\r\nli.list-group-item {\r\n  list-style: none;\r\n}\r\n\r\nli.list-group-item > a {\r\n  text-decoration: none;\r\n}\r\n\r\nli.list-group-item.active > a {\r\n  color: white;\r\n}\r\n"}),define("text!contact-detail.html",["module"],function(t){t.exports='<template>\r\n  <div class="panel panel-primary">\r\n    <div class="panel-heading">\r\n      <h3 class="panel-title">Profile</h3>\r\n    </div>\r\n    <div class="panel-body">\r\n      <form role="form" class="form-horizontal">\r\n        <div class="form-group">\r\n          <label class="col-sm-2 control-label">First Name</label>\r\n          <div class="col-sm-10">\r\n            <input type="text" placeholder="first name" class="form-control" value.bind="contact.firstName">\r\n          </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n          <label class="col-sm-2 control-label">Last Name</label>\r\n          <div class="col-sm-10">\r\n            <input type="text" placeholder="last name" class="form-control" value.bind="contact.lastName">\r\n          </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n          <label class="col-sm-2 control-label">Email</label>\r\n          <div class="col-sm-10">\r\n            <input type="text" placeholder="email" class="form-control" value.bind="contact.email">\r\n          </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n          <label class="col-sm-2 control-label">Phone Number</label>\r\n          <div class="col-sm-10">\r\n            <input type="text" placeholder="phone number" class="form-control" value.bind="contact.phoneNumber">\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="button-bar">\r\n    <button class="btn btn-success" click.delegate="save()" disabled.bind="!canSave">Save</button>\r\n  </div>\r\n</template>\r\n'}),define("text!contact-list.html",["module"],function(t){t.exports='<template>\r\n  <div class="contact-list">\r\n    <ul class="list-group">\r\n      <li repeat.for="contact of contacts" class="list-group-item ${contact.id === $parent.selectedId ? \'active\' : \'\'}">\r\n        <a route-href="route: contacts; params.bind: {id:contact.id}" click.delegate="$parent.select(contact)">\r\n          <h4 class="list-group-item-heading">${contact.firstName} ${contact.lastName}</h4>\r\n          <p class="list-group-item-text">${contact.email}</p>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n'}),define("text!no-selection.html",["module"],function(t){t.exports='<template>\r\n  <div class="no-selection text-center">\r\n    <h2>${message}</h2>\r\n  </div>\r\n</template>\r\n'});